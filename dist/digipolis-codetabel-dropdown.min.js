/*! digipolis-codetabel-dropdown v1.1.4 */
"use strict";!function(module){try{module=angular.module("digipolis.codetabeldropdown")}catch(e){module=angular.module("digipolis.codetabeldropdown",["digipolis.codetabeldropdown"])}module.factory("digipolisCodetabelService",["AppService","awelzijnHelperHttp","AppConfig",function(appService,helper,appConfig){function _get(codeTabelApiRoute){var options={authenticate:!0,transform:function(response){var elements=[];for(var key in response)if(0===key.indexOf("listOf",0)){elements=response[key];break}return elements}};return helper.get(appConfig.apiRoot+codeTabelApiRoute+"/",options)}return appService.logger.creation("digipolisCodetabelService"),{get:_get}}]),module.directive("digipolisCodetabelDropdown",["digipolisCodetabelService","$timeout",function(codetabelService,$timeout){return{restrict:"E",replace:!0,transclude:!1,scope:{editMode:"=",formMode:"=?",emptyDescription:"@",formDescription:"@",ngModel:"=",valueLabel:"=?",ngChange:"&"},template:'<div> <select ng-model=selectedkeyValue class=form-control ng-show="editMode || formMode" ng-change="OnChange()"> <option ng-if=formMode selected="selected" disabled value="-1">{{formDescription || "Selecteer..."}}</option> <option ng-if="!formMode && emptyDescription" selected="selected" value=-1>{{emptyDescription}}</option> <option ng-repeat="codetabelItem in codetabelItems" ng-disabled={{codetabelItem.disabled}} value={{codetabelItem.id}}>{{codetabelItem.value}}</option>  <div ng-if=valueLabel ng-show=!editMode>{{valueLabel.trim() || "-"}}</div> </div>',link:function(scope,element,attrs){function updateModel(){scope.ngModel>0&&angular.forEach(scope.codetabelItems,function(keyValue){keyValue.id===scope.ngModel&&(scope.selectedkeyValue=String(keyValue.id),scope.valueLabel=keyValue.value)})}scope.$watch("selectedkeyValue",function(newValue,oldValue){if(newValue!==oldValue){if("-1"===newValue)return scope.ngModel=void 0,void(scope.valueLabel=scope.emptyDescription);angular.forEach(scope.codetabelItems,function(item){item.id==newValue&&(scope.ngModel=item.id,scope.valueLabel=item.value)})}},!0),scope.$watch("ngModel",function(){updateModel()}),scope.OnChange=function(){scope.ngChange&&$timeout(function(){scope.$apply(scope.ngChange())},0,!1)},codetabelService.get(attrs.codetablename).then(function(response){scope.codetabelItems=[],angular.forEach(response,function(codetabel){codetabel.disabled||scope.codetabelItems.push(codetabel)}),scope.selectedkeyValue="-1",scope.valueLabel="",updateModel()})}}}])}();
//# sourceMappingURL=digipolis-codetabel-dropdown.min.map