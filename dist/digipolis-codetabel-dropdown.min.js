/*! digipolis-codetabel-dropdown v0.9.0 */
"use strict";!function(module){try{module=angular.module("digipolis.codetabeldropdown")}catch(e){module=angular.module("digipolis.codetabeldropdown",["digipolis.codetabeldropdown"])}module.directive("digipolisCodetabelDropdown",["digipolisCodetabelService","$timeout",function(codetabelService,$timeout){return{restrict:"E",replace:!0,transclude:!1,scope:{editMode:"=",ngModel:"=",valueLabel:"=",ngChange:"&"},template:'<div>  <select ng-model="selectedkeyValue" class="form-control" ng-show="editMode" ng-change="OnChange()" ng-options="codetabelItem.omschrijving for codetabelItem in codetabelItems track by codetabelItem.id" /></select>  <div ng-if="valueLabel" ng-show="!editMode">{{valueLabel.trim() || "-"}}</div></div>',link:function(scope,element,attrs){function updateModel(){scope.ngModel>0&&angular.forEach(scope.codetabelItems,function(keyValue){keyValue.id===scope.ngModel&&(scope.selectedkeyValue=keyValue,scope.valueLabel=keyValue.omschrijving)})}scope.$watch("selectedkeyValue",function(newValue,oldValue){newValue!==oldValue&&(scope.ngModel=newValue.id,scope.valueLabel=newValue.omschrijving)},!0),scope.$watch("ngModel",function(){updateModel()}),scope.OnChange=function(){scope.ngChange&&$timeout(function(){scope.$apply(scope.ngChange())},0,!1)},codetabelService.get(attrs.codetablename).then(function(response){scope.codetabelItems=response,scope.selectedkeyValue=null,scope.valueLabel="",updateModel()})}}}])}(),function(module){try{module=angular.module("digipolis.codetabelservice")}catch(e){module=angular.module("digipolis.codetabelservice",[])}module.factory("digipolisCodetabelService",["AppService","awelzijnHelperHttp","AppConfig",function(appService,helper,appConfig){function _get(codeTabelApiRoute){var options={authenticate:!0,transform:function(response){var elements=[];for(var key in response)if(0===key.indexOf("listOf",0)){elements=response[key];break}return elements}};return helper.get(appConfig.apiRoot+codeTabelApiRoute+"/",options)}return appService.logger.creation("digipolisCodetabelService"),{get:_get}}])}();
//# sourceMappingURL=digipolis-codetabel-dropdown.min.map