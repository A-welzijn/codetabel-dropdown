/*! digipolis-codetabel-dropdown v0.10.2 */
"use strict";!function(module){try{module=angular.module("digipolis.codetabeldropdown")}catch(e){module=angular.module("digipolis.codetabeldropdown",["digipolis.codetabeldropdown"])}module.factory("digipolisCodetabelService",["AppService","awelzijnHelperHttp","AppConfig",function(appService,helper,appConfig){function _get(codeTabelApiRoute){var options={authenticate:!0,transform:function(response){var elements=[];for(var key in response)if(0===key.indexOf("listOf",0)){elements=response[key];break}return elements}};return helper.get(appConfig.apiRoot+codeTabelApiRoute+"/",options)}return appService.logger.creation("digipolisCodetabelService"),{get:_get}}]),module.directive("digipolisCodetabelDropdown",["digipolisCodetabelService","$timeout",function(codetabelService,$timeout){return{restrict:"E",replace:!0,transclude:!1,scope:{editMode:"=",formMode:"=",emptyDescription:"@",ngModel:"=",valueLabel:"=",ngChange:"&"},template:'<div> <select ng-model=selectedkeyValue class=form-control ng-show=editMode ng-change="OnChange()"> <option ng-if=formMode selected="selected" disabled>Selecteer...</option> <option ng-if="!formMode && emptyDescription" selected="selected" value=-1>{{emptyDescription}}</option> <option ng-repeat="codetabelItem in codetabelItems" ng-disabled={{codetabelItem.disabled}} value={{codetabelItem}}>{{codetabelItem.omschrijving}}</option>  <div ng-if=valueLabel ng-show=!editMode>{{valueLabel.trim() || "-"}}</div> </div>',link:function(scope,element,attrs){function updateModel(){scope.ngModel>0&&angular.forEach(scope.codetabelItems,function(keyValue){keyValue.id===scope.ngModel&&(scope.selectedkeyValue=keyValue,scope.valueLabel=keyValue.omschrijving)})}scope.$watch("selectedkeyValue",function(newValue,oldValue){newValue!==oldValue&&angular.forEach(scope.codetabelItems,function(item){item.id===newValue&&(scope.ngModel=newValue.id,scope.valueLabel=newValue.omschrijving)})},!0),scope.$watch("ngModel",function(){updateModel()}),scope.OnChange=function(){scope.ngChange&&$timeout(function(){scope.$apply(scope.ngChange())},0,!1)},codetabelService.get(attrs.codetablename).then(function(response){scope.codetabelItems=response,scope.selectedkeyValue="-1",scope.valueLabel="",updateModel()})}}}])}();
//# sourceMappingURL=digipolis-codetabel-dropdown.min.map